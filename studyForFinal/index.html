<!DOCTYPE html>
<html></html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.6.7/rxjs.umd.min.js"></script>
  <script defer>
    const {
      Observable,
      of,
      from,
      fromEvent,
      Subject,
      BehaviorSubject,
      interval,
    } = rxjs;
    const { flatMap, map, filter, debounceTime, delay, mergeAll, take } =
      rxjs.operators;

    // -------------
    // const obs$ = Observable.create((observer) => {
    //   observer.next("Jesus is Lord");
    //   observer.next("I believe it");
    //   observer.next("Amen");
    //   observer.complete();
    // }).subscribe(
    //   (msg) => console.log(msg),
    //   (err) => console.log(err),
    //   () => console.info("done")
    // );

    // const obs$ = Observable.create((observer) => {
    //   observer.next("CS445");
    //   setTimeout(() => {
    //     observer.complete();
    //   }, 3000);
    // });
    // const subscription = obs$.subscribe(
    //   function (x) {
    //     console.log(`value: ${x}`);
    //   },
    //   function (err) {
    //     console.error(err);
    //   },
    //   function () {
    //     console.info(`done`);
    //   }
    // );

    // ---------------

    // Observable.create((observer) => {
    //   observer.next("hello");
    //   setTimeout(() => observer.next("world"), 2000);
    // }).subscribe((msg) => console.log(msg));

    // let bar = Observable.create((observer) => {
    //   observer.next("hello");

    //   setTimeout(() => {
    //     observer.next("world");
    //   }, 1000);
    // });
    // console.log("start");
    // bar.subscribe((msg) => console.log(msg));
    // console.log("end");

    // ---------

    // of(1, 2, 3)
    //   .pipe(
    //     map((n) => n + 3),
    //     filter((n) => n >= 5)
    //   )
    //   .subscribe(
    //     (data) => console.log(data),
    //     null,
    //     () => console.log("done")
    //   );

    // ----------------
    // let data = [
    //   { id: 1, name: "java" },
    //   { id: 2, name: "js" },
    //   { id: 3, name: "python" },
    // ];

    // from(data)
    //   .pipe(map((n) => ({ msg: `${n.name} is awesome` })))
    //   .subscribe((obj) => console.log(obj.msg));
    // -----------
    // const obs$ = fromEvent(document, "click");
    // obs$.subscribe((e) => console.log(e));
    // obs$.subscribe((e) => console.log(e.target));
    // ---------
    // let promise = new Promise((res, rej) => {
    //   setTimeout(() => {
    //     res("thanks");
    //   }, 2000);
    // });

    // from(promise).subscribe((msg) => console.log(msg));
    //================

    // let obs$ = new Subject();

    // obs$.subscribe((val) => console.log(val));
    // obs$.next("mines");
    //================
    // let btn = document.querySelector(".myBtn");
    // let div = document.querySelector("div");

    // let obs$ = new BehaviorSubject();

    // obs$.next("not clicked");
    // obs$.subscribe((value) => (div.textContent = value));
    // btn.addEventListener("click", () => {
    //   obs$.next("clicked");
    // });

    // const button = document.querySelector(".myBtn");
    // button;
    // const div = document.querySelector("div");
    // // const { Subject, BehaviorSubject } = rxjs;
    // // const myObservable$ = new BehaviorSubject("Not clicked");
    // var myObservable$ = new Subject();
    // myObservable$.subscribe((value) => (div.textContent = value));
    // button.addEventListener("click", () => myObservable$.next("Clicked!"));

    // const input = fromEvent(document, "click");
    // of(1, 2, 3)
    //   .pipe(
    //     // debounceTime(200),
    //     // delay(3000),
    //     map((n) => n + 3),
    //     filter((n) => n >= 5)
    //   )
    //   .subscribe((val) => console.log(val));

    // interval(1000)
    //   .pipe(
    //     take(2),
    //     flatMap((x) => of(1, 2, 3))
    //   )
    //   .subscribe(console.log);
    // const input = fromEvent(document.querySelector("input"), "input");
    // input
    //   .pipe(
    //     filter((e) => e.target.value > 2),
    //     map((e) => e.target.value)
    //   )
    // input.subscribe((val) => {
    //   console.log(val.target);
    //   let btn = val.target;
    //   btn.addEventListener("click", () => {
    //     document.querySelector("body").style.backgroundColor = "blue";
    //   });
    // });
    /*
    let empArr;
    let body = document.querySelector("body");
    fromEvent(document, "click").subscribe((e) => {
      console.log(e.target);
      let btn = document.createElement("button");
      btn.textContent = "Click Me";
      let body = document.querySelector("body");
      body.appendChild(btn);
      btn.addEventListener("click", getEmployees);
    });

    function setupDiv(obj) {
      let div = document.createElement("div");
      let name = document.createElement("h2");
      name.textContent = obj.name.first + " " + obj.name.last;
      let email = document.createElement("h3");
      email.textContent = obj.email;
      div.appendChild(name);
      div.appendChild(document.createElement("hr"));
      div.appendChild(email);
      return div;
    }

    async function getEmployees() {
      let response = await fetch("https://randomuser.me/api/?results=15");
      let data = await response.json();
      console.log(data.results);
      empArr = data.results;
      display(empArr);
    }

    function display(arr) {
      arr.forEach((obj) => {
        let eachDiv = setupDiv(obj);
        body.appendChild(eachDiv);
      });
    }
    */
    // console.log(1);
    // let x = Observable.create((observer) => {
    //   console.log(2);
    //   observer.next("hi");
    //   console.log(3);
    // });
    // console.log(4);

    // x.subscribe((msg) => console.log(msg));
    // console.log(5);

    // console.log("start");
    // let myPromise = function () {
    //   console.log(2);
    //   return new Promise((res, rej) => {
    //     console.log(3);
    //     res("4");
    //     console.log(5);
    //   });
    // };
    // console.log(1);
    // myPromise().then((msg) => console.log(msg));
    // console.log("stop");

    // async function anotherPromise() {
    //   console.log(3);
    //   let x = await new Promise((res) => {
    //     console.log(4);
    //     res("mintes");
    //     console.log(5);
    //   });
    //   console.log(6);
    //   console.log(x);
    //   console.log(7);
    // }
    // console.log(1);
    // anotherPromise();
    // console.log(2);

    // of(1, 2, 3)
    //   .pipe(
    //     map((x) => x + 2),
    //     filter((x) => x > 4)
    //   )
    //   .subscribe((x) => console.log(x));

    // from([1, 2, 3])
    //   .pipe(map((x) => x + 2))
    //   .subscribe((x) => console.log(x));

    // let myPromise = new Promise((res) => res("mintes tek"));
    // from(myPromise).subscribe((e) => console.log(e));
    // fromEvent(document, "click").subscribe((e) => console.log(e.target));

    // let y = new Subject();
    // y.subscribe((val) => console.log(val));
    // setTimeout(() => y.next("wifey"), 1000);

    // interval(100)
    //   .pipe(
    //     take(3),
    //     flatMap((x) => of(1, 2, 3))
    //   )
    //   .subscribe((x) => console.log(x));

    function x(arr1, arr2) {
      return of(...arr1, ...arr2);
    }
    x([1, 2], [3, 4]).subscribe((a) => console.log(a));
  </script>
  <script defer src="./study.js"></script>
</head>
<body>
  <!-- <div class="image">hi</div>
  <input type="text" value="mintes" />
  <button class="myBtn">Click me</button> -->
</body>
